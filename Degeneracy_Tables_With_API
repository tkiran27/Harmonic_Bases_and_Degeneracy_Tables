{"cells":[{"source":"<a href=\"https://www.kaggle.com/code/tanvikiran27/degeneracy-tables-with-api?scriptVersionId=248711767\" target=\"_blank\"><img align=\"left\" alt=\"Kaggle\" title=\"Open in Kaggle\" src=\"https://kaggle.com/static/images/open-in-kaggle.svg\"></a>","metadata":{},"cell_type":"markdown"},{"cell_type":"code","execution_count":1,"id":"ae29a6b5","metadata":{"_cell_guid":"b1076dfc-b9ad-4769-8c92-a6c4dae69d19","_uuid":"8f2839f25d086af736a60e9eeb907d3b93b6e0e5","execution":{"iopub.execute_input":"2025-07-03T20:08:38.614918Z","iopub.status.busy":"2025-07-03T20:08:38.614478Z","iopub.status.idle":"2025-07-03T20:08:43.815082Z","shell.execute_reply":"2025-07-03T20:08:43.814184Z"},"papermill":{"duration":5.209813,"end_time":"2025-07-03T20:08:43.817176","exception":false,"start_time":"2025-07-03T20:08:38.607363","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["/kaggle/input/degeneracy-tables-for-sphere-quotients/4D.csv\n","/kaggle/input/degeneracy-tables-for-sphere-quotients/5D.csv\n","/kaggle/input/degeneracy-tables-for-sphere-quotients/2D.csv\n","/kaggle/input/degeneracy-tables-for-sphere-quotients/3D.csv\n","/kaggle/input/degeneracy-tables-for-sphere-quotients/6D.csv\n","/kaggle/input/degeneracy-tables-for-sphere-quotients/7D.csv\n"]}],"source":["import itertools as it\n","import sympy as sp \n","import pandas as pd\n","from sympy import symbols, Function, diff, FiniteSet, simplify, re, AlgebraicNumber\n","from sympy import Q, ask\n","from sympy import *\n","from sympy.utilities.iterables import partitions\n","from sympy.functions.combinatorial.numbers import nC\n","from sympy.matrices import diag, eye\n","\n","import os\n","import zipfile\n","import shutil\n","\n","for dirname, _, filenames in os.walk('/kaggle/input/'):\n","    for filename in filenames:\n","        print(os.path.join(dirname, filename))"]},{"cell_type":"code","execution_count":2,"id":"9cbd0852","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:43.828086Z","iopub.status.busy":"2025-07-03T20:08:43.827636Z","iopub.status.idle":"2025-07-03T20:08:44.170281Z","shell.execute_reply":"2025-07-03T20:08:44.16897Z"},"papermill":{"duration":0.349869,"end_time":"2025-07-03T20:08:44.172072","exception":false,"start_time":"2025-07-03T20:08:43.822203","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["Yay, it worked!\n"]}],"source":["# https://www.kaggle.com/code/nnjjpp/updating-a-dataset-with-a-notebook\n","from kaggle_secrets import UserSecretsClient\n","if os.path.exists('/root/.kaggle/'):\n","    pass\n","else:\n","    os.mkdir('/root/.kaggle/')\n","kaggle_API_key = UserSecretsClient().get_secret(\"key\")\n","\n","with open('/root/.kaggle/kaggle.json', 'w') as fid:\n","    # IMPORTANT: replace tanvikiran27 with your Kaggle username\n","    # Instructions for creating a Kaggle API Key: https://www.kaggle.com/docs/api#authentication\n","    fid.writelines(f'{{\"username\":\"tanvikiran27\",\"key\":\"{kaggle_API_key}\"}}')\n","\n","!chmod 600 /root/.kaggle/kaggle.json\n","print('Yay, it worked!')"]},{"cell_type":"code","execution_count":3,"id":"3cdc0628","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.182455Z","iopub.status.busy":"2025-07-03T20:08:44.182102Z","iopub.status.idle":"2025-07-03T20:08:44.216344Z","shell.execute_reply":"2025-07-03T20:08:44.215154Z"},"papermill":{"duration":0.041494,"end_time":"2025-07-03T20:08:44.218129","exception":false,"start_time":"2025-07-03T20:08:44.176635","status":"completed"},"tags":[]},"outputs":[{"name":"stdout","output_type":"stream","text":["Copied 4D.csv\n","Copied 5D.csv\n","Copied 2D.csv\n","Copied 3D.csv\n","Copied 6D.csv\n","Copied 7D.csv\n"]}],"source":["# https://www.kaggle.com/code/abdurrakibmollah/move-files-from-input-to-output-folder\n","dst_path = \"/kaggle/working/\"\n","for dirname, _, filenames in os.walk('/kaggle/input/degeneracy-tables-for-sphere-quotients'):\n","     for filename in filenames:\n","        src_path = os.path.join(dirname, filename)\n","        shutil.copy(src_path, dst_path)\n","        print('Copied '+filename)"]},{"cell_type":"markdown","id":"a8f84c25","metadata":{"papermill":{"duration":0.004152,"end_time":"2025-07-03T20:08:44.227093","exception":false,"start_time":"2025-07-03T20:08:44.222941","status":"completed"},"tags":[]},"source":["# Link to dataset\n","[**Click here**]( https://kaggle.com/datasets/2bfac494d293fd0ef000308bde664b74a42f477733773b84662f2333be424ee1)"]},{"cell_type":"markdown","id":"c36eba2a","metadata":{"papermill":{"duration":0.004027,"end_time":"2025-07-03T20:08:44.235294","exception":false,"start_time":"2025-07-03T20:08:44.231267","status":"completed"},"tags":[]},"source":["# Degeneracy tables"]},{"cell_type":"markdown","id":"174c039d","metadata":{"papermill":{"duration":0.003855,"end_time":"2025-07-03T20:08:44.243429","exception":false,"start_time":"2025-07-03T20:08:44.239574","status":"completed"},"tags":[]},"source":["Remember to click Run All at the beginning of each session. To generate tables, make a new cell and call one of the functions below.\n","\n","To generate a table for a lens space, use lens_table(k, ls, deg) \\\n","    * k is the order of the group (usually prime) \\\n","    * ls is the list of integers relatively prime to $k$ \\\n","    * deg is how big you want the table to be \\\n","    * **Example:** lens_table(5,[1,2,3],10) returns a table for L(5;1,2,3) containing entries for all $p,q \\leq 10$\n","\n","For a general quotient space, use degeneracy_table(generator, deg) \\\n","    * generator is a matrix that generates the cyclic group you want to study \\\n","    * deg is the same as above \\\n","    * **Example:** degeneracy_table(M,10) returns a table for the quotient space under the group generated by the matrix $M$"]},{"cell_type":"markdown","id":"75842426","metadata":{"papermill":{"duration":0.003899,"end_time":"2025-07-03T20:08:44.25155","exception":false,"start_time":"2025-07-03T20:08:44.247651","status":"completed"},"tags":[]},"source":["## How to type Sympy matrices (spoiler: it's quite tedious)\n","\n","eye(n) will give you the $n\\times n$ identity matrix \\\n","diag(x_1, x_2, ..., x_k) will give you a diagonal matrix with x_1,...,x_k along the main diagonal- and these entries can be matrices themselves!\n","\n","For other matrices, use Matrix([[row 1],[row 2],...,[row k]]) \\\n","    * Put rational entries inside of a Rational() object- e.g. Rational(1/2) instead of 1/2 (this makes sure the code performs calculations symbolically and doesn't use floating point representation) \\\n","    * Use sqrt() for radicals \\\n","    * I (capital i) is the imaginary number\n","\n","See [Sympy's documentation](https://docs.sympy.org/latest/modules/matrices/matrices.html) for more information"]},{"cell_type":"code","execution_count":4,"id":"cec1d902","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.261158Z","iopub.status.busy":"2025-07-03T20:08:44.260861Z","iopub.status.idle":"2025-07-03T20:08:44.280879Z","shell.execute_reply":"2025-07-03T20:08:44.279937Z"},"papermill":{"duration":0.026972,"end_time":"2025-07-03T20:08:44.282624","exception":false,"start_time":"2025-07-03T20:08:44.255652","status":"completed"},"tags":[]},"outputs":[{"data":{"text/latex":["$\\displaystyle \\left[\\begin{matrix}\\frac{1}{2} & \\frac{1}{2} & \\frac{1}{2} & \\frac{1}{2}\\\\\\frac{1}{2} & \\frac{i}{2} & - \\frac{1}{2} & - \\frac{i}{2}\\\\\\frac{1}{2} & - \\frac{1}{2} & \\frac{1}{2} & - \\frac{1}{2}\\\\\\frac{1}{2} & - \\frac{i}{2} & - \\frac{1}{2} & \\frac{i}{2}\\end{matrix}\\right]$"],"text/plain":["Matrix([\n","[1/2,  1/2,  1/2,  1/2],\n","[1/2,  I/2, -1/2, -I/2],\n","[1/2, -1/2,  1/2, -1/2],\n","[1/2, -I/2, -1/2,  I/2]])"]},"execution_count":4,"metadata":{},"output_type":"execute_result"}],"source":["# Example matrices\n","M1 = Matrix([[Rational(1/2),Rational(1/2),Rational(1/2),Rational(1/2)],\n","           [Rational(1/2),I/2,Rational(-1/2),-I/2],\n","           [Rational(1/2),Rational(-1/2),Rational(1/2),Rational(-1/2)],\n","           [Rational(1/2),-I/2,Rational(-1/2),I/2]])\n","\n","M2 = Matrix([[Rational(1/2),sqrt(3)*I/2],[sqrt(3)*I/2,Rational(1/2)]])\n","\n","# Change this to M2 to see the second matrix\n","M1"]},{"cell_type":"code","execution_count":5,"id":"0b83f64d","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.293566Z","iopub.status.busy":"2025-07-03T20:08:44.293226Z","iopub.status.idle":"2025-07-03T20:08:44.298875Z","shell.execute_reply":"2025-07-03T20:08:44.297965Z"},"papermill":{"duration":0.013106,"end_time":"2025-07-03T20:08:44.300578","exception":false,"start_time":"2025-07-03T20:08:44.287472","status":"completed"},"tags":[]},"outputs":[],"source":["# Returns a diagonal matrix that generates the cyclic group for a lens space\n","def make_lens_matrix(k:int, ls:[int]) -> sp.Matrix:\n","    M = Matrix()\n","    zeta = exp(2*pi*I/k)\n","    for l in ls:\n","        M=diag(M,zeta**l)\n","    return M"]},{"cell_type":"code","execution_count":6,"id":"30aafaa1","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.310894Z","iopub.status.busy":"2025-07-03T20:08:44.31055Z","iopub.status.idle":"2025-07-03T20:08:44.31681Z","shell.execute_reply":"2025-07-03T20:08:44.316013Z"},"papermill":{"duration":0.01312,"end_time":"2025-07-03T20:08:44.318293","exception":false,"start_time":"2025-07-03T20:08:44.305173","status":"completed"},"tags":[]},"outputs":[],"source":["# Setting up symbols\n","z,w = symbols('z w')\n","\n","# General Ikeda generating function for any FINITE group\n","def F_gen(group:sp.FiniteSet) -> sp.Add:\n","    F = 0\n","    for g in group:\n","        n = sqrt(len(g))\n","        frac = (1-z*w) / ((z*eye(n)-g).det() * (w*eye(n)-g.C).det())\n","        F += frac\n","    F = (1/len(group))*F\n","    return F"]},{"cell_type":"code","execution_count":7,"id":"7ef4ab47","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.329114Z","iopub.status.busy":"2025-07-03T20:08:44.328658Z","iopub.status.idle":"2025-07-03T20:08:44.336326Z","shell.execute_reply":"2025-07-03T20:08:44.335488Z"},"papermill":{"duration":0.015023,"end_time":"2025-07-03T20:08:44.338074","exception":false,"start_time":"2025-07-03T20:08:44.323051","status":"completed"},"tags":[]},"outputs":[],"source":["# Determines if a matrix is unitary\n","def is_unitary(g:sp.Matrix) -> bool:\n","    return g.inv() == g.H\n","\n","# Helper function to check that the determinants aren't diverging\n","def get_abs(num:sp.Add) -> sp.Mul:\n","    return sqrt(re(((num)*conjugate(num)).expand()))\n","\n","# Returns a set of matrices that form the cyclic group generated by g\n","def make_group(g:sp.Matrix) -> sp.FiniteSet:\n","    G = FiniteSet(eye(sqrt(len(g))))\n","    gamma = g \n","    i=1\n","    unitary = is_unitary(g)\n","    while gamma != eye(sqrt(len(g))):\n","        G += FiniteSet(gamma)\n","        dist = get_abs(det(gamma)-1) # To make sure the group isn't infinite\n","        # print(dist)\n","        gamma *= g\n","        if get_abs(det(gamma)-1) > dist and not unitary:\n","            print(f'{get_abs(det(gamma)-1)}>{dist}')\n","            raise Exception(\"This is an infinite group. Please try a different generator.\")\n","        i += 1\n","    return G "]},{"cell_type":"code","execution_count":8,"id":"afe892e6","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.349912Z","iopub.status.busy":"2025-07-03T20:08:44.349357Z","iopub.status.idle":"2025-07-03T20:08:44.356955Z","shell.execute_reply":"2025-07-03T20:08:44.355751Z"},"papermill":{"duration":0.015646,"end_time":"2025-07-03T20:08:44.358578","exception":false,"start_time":"2025-07-03T20:08:44.342932","status":"completed"},"tags":[]},"outputs":[],"source":["# Coefficients from Taylor series expansion for a two-variable function- read more at\n","# https://math.libretexts.org/Bookshelves/Calculus/Supplemental_Modules_(Calculus)/Multivariable_Calculus/3%3A_Topics_in_Partial_Derivatives/Taylor__Polynomials_of_Functions_of_Two_Variables\n","def taylor_coeffs(f:sp.Add, deg:int) -> list:\n","    table = []\n","    for i in range(deg+1):\n","        row = []\n","        for j in range(deg+1-i):\n","            d = diff(f,w,j)\n","            d = diff(d,z,i)\n","            d = lambdify([z,w],d)\n","            term = re(d(0,0)/(factorial(i)*factorial(j))).round()\n","            row.append(term)\n","        while len(row) < deg+1:\n","            row.append('-')\n","        table.append(row)\n","    return table"]},{"cell_type":"code","execution_count":9,"id":"4ccbe067","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.369043Z","iopub.status.busy":"2025-07-03T20:08:44.368726Z","iopub.status.idle":"2025-07-03T20:08:44.377323Z","shell.execute_reply":"2025-07-03T20:08:44.37641Z"},"papermill":{"duration":0.015856,"end_time":"2025-07-03T20:08:44.379018","exception":false,"start_time":"2025-07-03T20:08:44.363162","status":"completed"},"tags":[]},"outputs":[],"source":["# Puts a '-' where there's no entry in the table\n","def add_dashes(table:list, deg:int) -> list:\n","    T = []\n","    for row in table:\n","        while len(row) < deg+1:\n","            row.append('-')\n","        T.append(row)\n","    return T\n","\n","# Avoids repeating computations when making larger versions of tables that are already\n","# in the dataset\n","# Reads the existing table and adds onto it\n","def enlarge(f:sp.Add, deg:int, table:list) -> list:\n","    T = []\n","    for row in table:\n","        while row[-1]=='-':\n","            row = row[:-1]\n","        T.append(row)\n","    start = len(T)\n","    for i in range(start,deg+1):\n","        for j in range(i):\n","            d = diff(f,w,j)\n","            d = diff(d,z,i-j)\n","            d = lambdify([z,w],d)\n","            term = re(d(0,0)/(factorial(i-j)*factorial(j))).round()\n","            T[j].append(term)\n","        d = lambdify([z,w],diff(f,w,i))\n","        term = re(d(0,0)/(factorial(i))).round()\n","        T.append([term])\n","    T = add_dashes(T,deg)\n","    return T"]},{"cell_type":"code","execution_count":10,"id":"eb861ffb","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.390092Z","iopub.status.busy":"2025-07-03T20:08:44.389685Z","iopub.status.idle":"2025-07-03T20:08:44.39531Z","shell.execute_reply":"2025-07-03T20:08:44.394351Z"},"papermill":{"duration":0.013423,"end_time":"2025-07-03T20:08:44.397047","exception":false,"start_time":"2025-07-03T20:08:44.383624","status":"completed"},"tags":[]},"outputs":[],"source":["# Gets a single degeneracy table (as a list of lists) from the dataset\n","def clean_col(df:pd.DataFrame, col:int) -> list:\n","    table = df[col].to_list()\n","    num_table = []\n","    while type(table[-1]) is float:\n","        table = table[:-1]\n","    for row in table:\n","        num_table.append(eval(row))\n","    return num_table"]},{"cell_type":"code","execution_count":11,"id":"27f32521","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.408733Z","iopub.status.busy":"2025-07-03T20:08:44.408339Z","iopub.status.idle":"2025-07-03T20:08:44.414653Z","shell.execute_reply":"2025-07-03T20:08:44.413592Z"},"papermill":{"duration":0.01429,"end_time":"2025-07-03T20:08:44.416238","exception":false,"start_time":"2025-07-03T20:08:44.401948","status":"completed"},"tags":[]},"outputs":[],"source":["# Turns the order k and a list of l values into the name of a lens space (string)\n","# To avoid duplicates, the l values are modded by k and sorted in ascending order \n","# (this doesn't affect the Ikeda generating function and thus doesn't affect the \n","# degeneracy tables)\n","# However, a few duplicates found their way into the dataset from earlier versions (Sorry!)\n","def make_lens_str(k:int, ls:[int]) -> str:\n","    lens = \"L(\"+str(k)+\";\"\n","    for i in range(len(ls)):\n","        ls[i] = ls[i] % k\n","    ls.sort()\n","    for l in ls:\n","        lens += str(l)+\",\"\n","    lens = lens[:-1]\n","    lens += \")\"\n","    return lens"]},{"cell_type":"code","execution_count":12,"id":"c4dd2623","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.426356Z","iopub.status.busy":"2025-07-03T20:08:44.426067Z","iopub.status.idle":"2025-07-03T20:08:44.43088Z","shell.execute_reply":"2025-07-03T20:08:44.429968Z"},"papermill":{"duration":0.011926,"end_time":"2025-07-03T20:08:44.432661","exception":false,"start_time":"2025-07-03T20:08:44.420735","status":"completed"},"tags":[]},"outputs":[],"source":["# File lookup\n","def find_file(file:str) -> bool:\n","    for dirname, _, filenames in os.walk('/kaggle/working'):\n","        if file in filenames:\n","            return True\n","    return False"]},{"cell_type":"code","execution_count":13,"id":"e02c85b5","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.445059Z","iopub.status.busy":"2025-07-03T20:08:44.444691Z","iopub.status.idle":"2025-07-03T20:08:44.450254Z","shell.execute_reply":"2025-07-03T20:08:44.449461Z"},"papermill":{"duration":0.013563,"end_time":"2025-07-03T20:08:44.451848","exception":false,"start_time":"2025-07-03T20:08:44.438285","status":"completed"},"tags":[]},"outputs":[],"source":["# Update dataset\n","# https://www.kaggle.com/code/nnjjpp/updating-a-dataset-with-a-notebook\n","def update_data():\n","    with open('/kaggle/working/dataset-metadata.json', 'w') as json_fid:\n","        json_fid.write('{\\n  \"title\": \"Degeneracy Tables for Sphere Quotients\",\\n  \"id\": \"tanvikiran27/degeneracy-tables-for-sphere-quotients\",\\n  \"licenses\": [{\"name\": \"CC0-1.0\"}]}')\n","    !kaggle datasets version -m new"]},{"cell_type":"code","execution_count":14,"id":"193cbc9e","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.462034Z","iopub.status.busy":"2025-07-03T20:08:44.461724Z","iopub.status.idle":"2025-07-03T20:08:44.467329Z","shell.execute_reply":"2025-07-03T20:08:44.466319Z"},"papermill":{"duration":0.012594,"end_time":"2025-07-03T20:08:44.468936","exception":false,"start_time":"2025-07-03T20:08:44.456342","status":"completed"},"tags":[]},"outputs":[],"source":["# In case you need to clear the dataset for some reason\n","# CAUTION: This will delete the .csvs from the output directory and can potentially\n","# delete everything in the dataset- use with caution...\n","# https://www.kaggle.com/code/focusedmonk/delete-output-files-in-kaggle\n","def clear_csvs():\n","    import pathlib\n","    files_to_delete = './*.csv' # this considers only \".csv\" files. If you want to delete all files, use \"./*\"\n","    files_list = pathlib.Path(os.getcwd()).glob(files_to_delete)\n","    for file_path in files_list:\n","        os.remove(file_path)"]},{"cell_type":"code","execution_count":15,"id":"1f9586cb","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.4795Z","iopub.status.busy":"2025-07-03T20:08:44.479101Z","iopub.status.idle":"2025-07-03T20:08:44.485926Z","shell.execute_reply":"2025-07-03T20:08:44.484914Z"},"papermill":{"duration":0.014093,"end_time":"2025-07-03T20:08:44.487598","exception":false,"start_time":"2025-07-03T20:08:44.473505","status":"completed"},"tags":[]},"outputs":[],"source":["# Helper function to extract k from L(k;l1,...,ln)\n","def get_order(lens:str) -> int:\n","    return int(lens[2:-1].split(';')[0])\n","\n","# Tells where in the DataFrame to insert a new column\n","def get_spot(k:int,df:pd.DataFrame) -> int:\n","    if len(df.columns)!=0:\n","        c = 0\n","        while c<len(df.columns) and df.columns[c][0]!='M' and k>=int(get_order(df.columns[c])):\n","            c+=1\n","        return c\n","    return len(df.columns)"]},{"cell_type":"code","execution_count":16,"id":"a13d2ae7","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.498087Z","iopub.status.busy":"2025-07-03T20:08:44.497739Z","iopub.status.idle":"2025-07-03T20:08:44.507943Z","shell.execute_reply":"2025-07-03T20:08:44.506898Z"},"papermill":{"duration":0.017544,"end_time":"2025-07-03T20:08:44.509662","exception":false,"start_time":"2025-07-03T20:08:44.492118","status":"completed"},"tags":[]},"outputs":[],"source":["# Creates a degeneracy table for a lens space with entries for all 0 <= p,q <= deg\n","# If there's already an entry for the lens space, this function finds it in the dataset\n","# Otherwise it adds the new table to the dataset\n","def lens_table(k:int, ls:[int], deg:int) -> pd.DataFrame:\n","    N = len(ls)\n","    lens = make_lens_str(k,ls)\n","    # file = 'n=' + str(N) + '.csv'\n","    file = str(N) + 'D.csv'\n","    path = \"/kaggle/working/\" + file\n","    if find_file(file):\n","        try:\n","            data = pd.read_csv(path)\n","        except pd.errors.EmptyDataError:\n","            data = pd.DataFrame()\n","    else:\n","        data = pd.DataFrame()\n","    G = make_group(make_lens_matrix(k,ls))\n","    f = F_gen(G)\n","    if lens not in data:\n","        T = taylor_coeffs(f,deg)\n","        new = pd.DataFrame({lens:T})\n","        added = data.iloc[:,:get_spot(k,data)]\n","        right = data.iloc[:,get_spot(k,data):]\n","        added = added.merge(new, left_index = True, right_index = True, how = 'outer')\n","        added = added.merge(right,left_index = True, right_index = True, how = 'outer')\n","        added.to_csv(path, index = False)\n","        print(\"Created/updated \" + file)\n","        update_data()\n","    else:\n","        T = clean_col(data,lens)\n","        if deg >= len(clean_col(data,lens)):\n","            T = enlarge(f,deg,T)\n","            data = data.drop(columns=[lens])\n","            added = data.iloc[:,:get_spot(k,data)]\n","            right = data.iloc[:,get_spot(k,data):]\n","            new = pd.DataFrame({lens:T})\n","            added = added.merge(new, left_index = True, right_index = True, how = 'outer')\n","            added = added.merge(right,left_index = True, right_index = True, how = 'outer')\n","            added.to_csv(path, index = False)\n","            print(\"Created/updated \" + file)\n","            update_data()\n","    print(lens)\n","    return pd.DataFrame(T)"]},{"cell_type":"code","execution_count":17,"id":"99bd6fe2","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.520006Z","iopub.status.busy":"2025-07-03T20:08:44.51973Z","iopub.status.idle":"2025-07-03T20:08:44.527913Z","shell.execute_reply":"2025-07-03T20:08:44.526958Z"},"papermill":{"duration":0.015375,"end_time":"2025-07-03T20:08:44.529667","exception":false,"start_time":"2025-07-03T20:08:44.514292","status":"completed"},"tags":[]},"outputs":[],"source":["# Creates a table for any quotient space with entries for all 0 <= p,q <= deg\n","def degeneracy_table(generator:sp.Matrix, deg:int) -> pd.DataFrame:\n","    N = sqrt(len(generator))\n","    name = str(generator)\n","    file = str(N) + 'D.csv'\n","    path = \"/kaggle/working/\" + file\n","    if find_file(file):\n","        try:\n","            data = pd.read_csv(path)\n","        except pd.errors.EmptyDataError:\n","            data = pd.DataFrame()\n","    else:\n","        data = pd.DataFrame()\n","    G = make_group(generator)\n","    f = F_gen(G)\n","    if name not in data:\n","        T = taylor_coeffs(f,deg)\n","        new = pd.DataFrame({name:T})\n","        added = data.merge(new, left_index = True, right_index = True, how = 'outer')\n","        added.to_csv(path, index = False)\n","        print(\"Created/updated \" + file)\n","        update_data()\n","    else:\n","        T = clean_col(data,name)\n","        if deg >= len(T):\n","            T = enlarge(f,deg,T)\n","            data = data.drop(columns=[name])\n","            new = pd.DataFrame({name:T})\n","            added = data.merge(new, left_index = True, right_index = True, how = 'outer')\n","            added.to_csv(path, index = False)\n","            print(\"Created/updated \" + file)\n","            update_data()\n","    return pd.DataFrame(T)"]},{"cell_type":"code","execution_count":18,"id":"59181575","metadata":{"execution":{"iopub.execute_input":"2025-07-03T20:08:44.540294Z","iopub.status.busy":"2025-07-03T20:08:44.539948Z","iopub.status.idle":"2025-07-03T20:08:44.545882Z","shell.execute_reply":"2025-07-03T20:08:44.54485Z"},"papermill":{"duration":0.013383,"end_time":"2025-07-03T20:08:44.548017","exception":false,"start_time":"2025-07-03T20:08:44.534634","status":"completed"},"tags":[]},"outputs":[],"source":["# Adds the dimensions along a diagonal \n","# Use this to see the relationship between box_b (H_p,q) and the real Laplacian (H_k)\n","def add_diag(table, diagonal:int) -> int:\n","    sum = 0\n","    for i in range(diagonal+1):\n","        sum += table[i][diagonal-i]\n","    return sum\n","\n","# Prints out the sums of the diagonals in an aesthetically pleasing way\n","def print_diag_sums(table:list):\n","    for i in range(len(table)):\n","        print(f'p+q={i} -> Sum of diagonal = {add_diag(table,i)}')"]}],"metadata":{"kaggle":{"accelerator":"none","dataSources":[{"datasetId":7748921,"sourceId":12365165,"sourceType":"datasetVersion"}],"dockerImageVersionId":31040,"isGpuEnabled":false,"isInternetEnabled":true,"language":"python","sourceType":"notebook"},"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.11.11"},"papermill":{"default_parameters":{},"duration":11.838942,"end_time":"2025-07-03T20:08:45.273928","environment_variables":{},"exception":null,"input_path":"__notebook__.ipynb","output_path":"__notebook__.ipynb","parameters":{},"start_time":"2025-07-03T20:08:33.434986","version":"2.6.0"}},"nbformat":4,"nbformat_minor":5}